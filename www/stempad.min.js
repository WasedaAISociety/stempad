Array.prototype.removeAllObject=function(t){for(var r=!1,e=0;e<this.length;e++)this[e]==t&&(this.splice(e,1),r=!0,e--);return r},Array.prototype.removeAnObject=function(t,r){r instanceof Function||(r=function(t,r){return t==r});for(var e=0;e<this.length;e++)if(r(this[e],t))return this.splice(e,1),!0;return!1},Array.prototype.unionWith=function(t,r){for(var e=new Array,n=0,i=t.length;i>n;n++)this.includes(t[n],r)||e.push(t[n]);return this.concat(e)},Array.prototype.includes=function(t,r){if(void 0==r){for(var e=0,n=this.length;n>e;e++)if(this[e]==t)return this[e]}else for(var e=0,n=this.length;n>e;e++)if(r(this[e],t))return this[e];return!1},Array.prototype.getAllMatched=function(t,r){var e=new Array;if(void 0==r)for(var n=0,i=this.length;i>n;n++)this[n]==t&&e.push(this[n]);else for(var n=0,i=this.length;i>n;n++)r(this[n],t)&&e.push(this[n]);return e},Array.prototype.pushUnique=function(t,r){var e=this.includes(t,r);return e?e:(this.push(t),t)},Array.prototype.stableSort=function(t){void 0==t&&(t=function(t,r){return t-r});for(var r=0;r<this.length;r++)this[r].__id__=r;this.sort.call(this,function(r,e){var n=t(r,e);return 0==n?r.__id__>e.__id__?1:-1:n});for(var r=0;r<this.length;r++)delete this[r].__id__},Array.prototype.propertiesNamed=function(t){for(var r=new Array,e=0,n=this.length;n>e;e++)r.push(this[e][t]);return r},String.prototype.replaceAll=function(t,r){return this.split(t).join(r)},String.prototype.splitByArraySeparatorSeparatedLong=function(t){var r=new Array,e=new Array;r[0]=this,e[0]=!1;for(var n=0;n<t.length;n++){for(var i=new Array,o=new Array,s=0;s<r.length;s++)if(e[s])i.push([r[s]]),o.push([!0]);else{var c=r[s].split(t[n]);i[s]=new Array,o[s]=new Array;for(var d=0,a=c.length-1;a>d;d++)""!=c[d]&&(i[s].push(c[d]),o[s].push(!1)),i[s].push(t[n]),o[s].push(!0);""!=c[c.length-1]&&(i[s].push(c[d]),o[s].push(!1))}r=new Array,e=new Array,r=r.concat.apply(r,i),e=e.concat.apply(e,o)}return 0==r.length&&r.push(""),r},String.prototype.escapeForHTML=function(){var t=document.createElement("div");return t.appendChild(document.createTextNode(this)),t.innerHTML};var WordType;!function(t){t[t.NotFound=0]="NotFound",t[t.OnlyInOwn=1]="OnlyInOwn",t[t.OnlyInDocument=2]="OnlyInDocument",t[t.SamePerception=3]="SamePerception",t[t.DifferentPerception=4]="DifferentPerception"}(WordType||(WordType={}));var Stempad=function(){function t(t){this.dictA=new Array,this.dictB=new Array;var r=this;this.editorDiv=t,this.editorDiv.onclick=function(t){t.stopPropagation()},this.setDictionary(),document.body.onclick=function(){r.markupBasedOnDictionary()}}return t.prototype.openWordMenu=function(t){console.log(t),console.log(t.text)},t.prototype.getEditorText=function(){var t="";if(this.editorDiv.hasChildNodes())for(var r=0;r<this.editorDiv.childNodes.length;r++)0!=r&&(t+="\n"),t+=$(this.editorDiv.childNodes[r]).text();else t+=$(this.editorDiv).text();return t},t.prototype.setEditorText=function(t){this.setEditorHTMLText(t.escapeForHTML()),this.markupBasedOnDictionary()},t.prototype.setEditorHTMLText=function(t){this.editorDiv.innerHTML="";for(var r=t.split("\n"),e=0;e<r.length;e++){var n=document.createElement("div");n.innerHTML=r[e],this.editorDiv.appendChild(n)}},t.prototype.setDictionary=function(t,r){this.dictA=t?t:this.dictA,this.dictB=r?r:this.dictB,this.dictBasedID=this.dictA.unionWith(this.dictB,function(t,r){return t[0]===r[0]}),this.dictBasedWord=this.dictA.unionWith(this.dictB,function(t,r){return t[1]===r[1]}),this.WordListInDict=this.dictBasedWord.propertiesNamed(1),this.WordListInDict.stableSort(function(t,r){return t.length-r.length}),this.showDictionary()},t.prototype.showDictionary=function(){for(var t=document.getElementById("dict"),r="",e=function(t,e){r+='<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 '+e+'"><dl>',r+="<dt>"+t[1].escapeForHTML()+"</dt>",r+="<dd>"+t[2].escapeForHTML()+"</dd>",r+="</dl></div>"},n=0;n<this.dictBasedWord.length;n++){r+='<div class="row heightLineParent">';var i=this.dictBasedWord[n][1],o=this.dictBasedID.getAllMatched(i,function(t,r){return t[1]===r});if(1==o.length){var s=this.dictA.includes(i,function(t,r){return t[1]===r}),c=this.dictB.includes(i,function(t,r){return t[1]===r});s&&c?(r+='<div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"></div>',e(s,"dictCommon")):s?e(s,"dictA"):(r+='<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"></div>',e(c,"dictB"))}else{var d=this.dictA.includes(i,function(t,r){return t[1]===r});e(d,"dictA");var d=this.dictB.includes(i,function(t,r){return t[1]===r});e(d,"dictB")}r+="</div>"}t.innerHTML=r,$(".heightLineParent>div").heightLine()},t.prototype.getWordType=function(t){var r=this.dictBasedWord.includes(t,function(t,r){return t[1]===r});if(!r)return WordType.NotFound;r=r[1];var e=this.dictA.includes(r,function(t,r){return t[1]===r}),n=this.dictB.includes(r,function(t,r){return t[1]===r});return e&&n?e[0]===n[0]?WordType.SamePerception:WordType.DifferentPerception:e?WordType.OnlyInOwn:WordType.OnlyInDocument},t.prototype.markupBasedOnDictionary=function(){for(var t=this.getEditorText(),r=t.splitByArraySeparatorSeparatedLong(this.WordListInDict),e=0;e<r.length;e++){var n=this.getWordType(r[e]);n==WordType.SamePerception?r[e]='<span style="background-color: #c0ffee">'+r[e].escapeForHTML()+"</span>":n==WordType.DifferentPerception?r[e]='<span style="background-color: #ffc0ee">'+r[e].escapeForHTML()+"</span>":r[e]=r[e].escapeForHTML()}t=r.join(""),this.setEditorHTMLText(t)},t}();$(function(){var t=new Stempad(document.getElementById("editorbody"));t.setDictionary([["LMD3UwP5Twms9hnW3yUHAQ","集合","ある特定のはっきり識別できる条件に合うものを一まとめにして考えた、全体。"],["67SNKR52QYqtrZH57SqMNA","概念","事象に対して、抽象化・ 普遍化してとらえた、思考の基礎となる基本的な形態として、脳の機能によってとらえたもの。"],["mp2ZnRn/T9WSrVixhzGVdA","数学","数および図形についての学問"]],[["k8sxescVRqK8YY+DsB3B8Q","集合","一か所に集まる、または集めること。"],["67SNKR52QYqtrZH57SqMNA","概念","事象に対して、抽象化・ 普遍化してとらえた、思考の基礎となる基本的な形態として、脳の機能によってとらえたもの。"],["mp2ZnRn/T9WSrVixhzGVdA","数学","数および図形についての学問"]]),t.setEditorText("集合は、集合論のみならず現代数学全体における最も基本的な概念の一つであり、現代数学のほとんどが集合と写像の言葉で書かれていると言ってよい。")});var UUID=function(){function t(){}return t.verifyUUID=function(t){return t&&36==t.length?t.toLowerCase():!1},t.convertFromHexString=function(t){return 32!=t.length?!1:this.verifyUUID(t.substr(0,8)+"-"+t.substr(8,4)+"-"+t.substr(12,4)+"-"+t.substr(16,4)+"-"+t.substr(20,12))},t.generateVersion4=function(){var t=this.generate16bitHexStrFromNumber,r=this.generateRandom16bitHexStr,e=this.generateRandom16bitHex;return r()+r()+"-"+r()+"-"+t(16384|4095&e())+"-"+t(32768|16383&e())+"-"+r()+r()+r()},t.generateRandom16bitHexStr=function(){return(65536*(1+Math.random())|0).toString(16).toLowerCase().substring(1)},t.generateRandom16bitHex=function(){return 65536*Math.random()|0},t.generate16bitHexStrFromNumber=function(t){return(t+65536).toString(16).toLowerCase().substring(1)},t.getBase64EncodedUUID=function(t){if(t=this.verifyUUID(t),!t)return null;t=t.replaceAll("-","")+"0000";for(var r="",e=function(t){return t>=0&&26>t?String.fromCharCode(65+t):t>=26&&52>t?String.fromCharCode(97+(t-26)):t>=52&&62>t?String.fromCharCode(48+(t-52)):t>=62&&64>t?62==t?"+":"/":void 0},n=0;6>n;n++){var i=parseInt(t.substr(6*n,6),16);r+=e(63&i>>18),r+=e(63&i>>12),r+=e(63&i>>6),r+=e(63&i)}return r=r.substr(0,22)+"=="},t.nullUUID="00000000-0000-0000-0000-000000000000",t}();