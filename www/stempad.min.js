Array.prototype.removeAllObject=function(t){for(var r=!1,e=0;e<this.length;e++)this[e]==t&&(this.splice(e,1),r=!0,e--);return r},Array.prototype.removeAnObject=function(t,r){r instanceof Function||(r=function(t,r){return t==r});for(var e=0;e<this.length;e++)if(r(this[e],t))return this.splice(e,1),!0;return!1},Array.prototype.unionWith=function(t,r){for(var e=new Array,n=0,i=t.length;i>n;n++)this.includes(t[n],r)||e.push(t[n]);return this.concat(e)},Array.prototype.includes=function(t,r){if(void 0==r){for(var e=0,n=this.length;n>e;e++)if(this[e]==t)return this[e]}else for(var e=0,n=this.length;n>e;e++)if(r(this[e],t))return this[e];return!1},Array.prototype.getAllMatched=function(t,r){var e=new Array;if(void 0==r)for(var n=0,i=this.length;i>n;n++)this[n]==t&&e.push(this[n]);else for(var n=0,i=this.length;i>n;n++)r(this[n],t)&&e.push(this[n]);return e},Array.prototype.pushUnique=function(t,r){var e=this.includes(t,r);return e?e:(this.push(t),t)},Array.prototype.stableSort=function(t){void 0==t&&(t=function(t,r){return t-r});for(var r=0;r<this.length;r++)this[r].__id__=r;this.sort.call(this,function(r,e){var n=t(r,e);return 0==n?r.__id__>e.__id__?1:-1:n});for(var r=0;r<this.length;r++)delete this[r].__id__},String.prototype.replaceAll=function(t,r){return this.split(t).join(r)},String.prototype.splitByArraySeparatorSeparatedLong=function(t){var r=new Array,e=new Array;r[0]=this,e[0]=!1;for(var n=0;n<t.length;n++){for(var i=new Array,o=new Array,s=0;s<r.length;s++)if(e[s])i.push([r[s]]),o.push([!0]);else{var c=r[s].split(t[n]);i[s]=new Array,o[s]=new Array;for(var d=0,a=c.length-1;a>d;d++)""!=c[d]&&(i[s].push(c[d]),o[s].push(!1)),i[s].push(t[n]),o[s].push(!0);""!=c[c.length-1]&&(i[s].push(c[d]),o[s].push(!1))}r=new Array,e=new Array,r=r.concat.apply(r,i),e=e.concat.apply(e,o)}return 0==r.length&&r.push(""),r},String.prototype.escapeForHTML=function(){var t=document.createElement("div");return t.appendChild(document.createTextNode(this)),t.innerHTML};var Stempad=function(){function t(t){this.dictA=[["LMD3UwP5Twms9hnW3yUHAQ","集合","ある特定のはっきり識別できる条件に合うものを一まとめにして考えた、全体。"],["67SNKR52QYqtrZH57SqMNA","概念","事象に対して、抽象化・ 普遍化してとらえた、思考の基礎となる基本的な形態として、脳の機能によってとらえたもの。"],["mp2ZnRn/T9WSrVixhzGVdA","数学","数および図形についての学問"]],this.dictB=[["k8sxescVRqK8YY+DsB3B8Q","集合","一か所に集まる、または集めること。"],["67SNKR52QYqtrZH57SqMNA","概念","事象に対して、抽象化・ 普遍化してとらえた、思考の基礎となる基本的な形態として、脳の機能によってとらえたもの。"],["mp2ZnRn/T9WSrVixhzGVdA","数学","数および図形についての学問"]];var r=this;this.editorDiv=t,this.editorDiv.onclick=function(t){t.stopPropagation()},this.editorDiv.innerHTML="集合は、集合論のみならず現代数学全体における最も基本的な概念の一つであり、現代数学のほとんどが集合と写像の言葉で書かれていると言ってよい。",this.markupBasedOnDictionary([this.dictA,this.dictB]),this.showDictionary(),document.body.onclick=function(){r.markupBasedOnDictionary([r.dictA,r.dictB])}}return t.prototype.openWordMenu=function(t){console.log(t),console.log(t.text)},t.prototype.markupBasedOnDictionary=function(t){var r=this.getEditorText();console.log(r);for(var e=new Array,n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)e.pushUnique(t[n][i][1]);e.stableSort(function(t,r){return t.length-r.length});for(var o=r.splitByArraySeparatorSeparatedLong(e),n=0;n<o.length;n++)if(e.includes(o[n])){var s=this.dictA.includes(o[n],function(t,r){return t[1]==r})[0],c=this.dictB.includes(o[n],function(t,r){return t[1]==r})[0];s===c?o[n]='<span style="background-color: #c0ffee">'+o[n].escapeForHTML()+"</span>":o[n]='<span style="background-color: #ffc0ee">'+o[n].escapeForHTML()+"</span>"}else o[n]=o[n].escapeForHTML();r=o.join(""),this.setEditorText(r)},t.prototype.getEditorText=function(){var t="";if(this.editorDiv.hasChildNodes())for(var r=0;r<this.editorDiv.childNodes.length;r++)0!=r&&(t+="\n"),t+=$(this.editorDiv.childNodes[r]).text();else t+=$(this.editorDiv).text();return t},t.prototype.setEditorText=function(t){this.editorDiv.innerHTML="";for(var r=t.split("\n"),e=0;e<r.length;e++){var n=document.createElement("div");n.innerHTML=r[e],this.editorDiv.appendChild(n)}},t.prototype.showDictionary=function(){var t=this.dictA.unionWith(this.dictB,function(t,r){return t[0]===r[0]}),r=this.dictA.unionWith(this.dictB,function(t,r){return t[1]===r[1]});console.log(t),console.log(r);for(var e=document.getElementById("dict"),n="",i=0;i<r.length;i++){n+='<div class="row heightLineParent">';var o=r[i][1],s=t.getAllMatched(o,function(t,r){return t[1]===r});if(1==s.length){var c=this.dictA.includes(o,function(t,r){return t[1]===r}),d=this.dictB.includes(o,function(t,r){return t[1]===r});if(c&&d)n+='<div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"></div>',n+='<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 dictCommon"><dl>',n+="<dt>"+c[1].escapeForHTML()+"</dt>",n+="<dd>"+c[2].escapeForHTML()+"</dd>",n+="</dl></div>";else if(c){var a=this.dictB.includes(o,function(t,r){return t[1]===r});n+='<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 dictA"><dl>',n+="<dt>"+c[1].escapeForHTML()+"</dt>",n+="<dd>"+c[2].escapeForHTML()+"</dd>",n+="</dl></div>"}else{n+='<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"></div>';var a=this.dictB.includes(o,function(t,r){return t[1]===r});n+='<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 dictB"><dl>',n+="<dt>"+d[1].escapeForHTML()+"</dt>",n+="<dd>"+d[2].escapeForHTML()+"</dd>",n+="</dl></div>"}}else{var a=this.dictA.includes(o,function(t,r){return t[1]===r});n+='<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 dictA"><dl>',n+="<dt>"+a[1].escapeForHTML()+"</dt>",n+="<dd>"+a[2].escapeForHTML()+"</dd>",n+="</dl></div>";var a=this.dictB.includes(o,function(t,r){return t[1]===r});n+='<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 dictB"><dl>',n+="<dt>"+a[1].escapeForHTML()+"</dt>",n+="<dd>"+a[2].escapeForHTML()+"</dd>",n+="</dl></div>"}n+="</div>"}e.innerHTML=n,$(".heightLineParent>div").heightLine()},t}();$(function(){new Stempad(document.getElementById("editorbody"))});var UUID=function(){function t(){}return t.verifyUUID=function(t){return t&&36==t.length?t.toLowerCase():!1},t.convertFromHexString=function(t){return 32!=t.length?!1:this.verifyUUID(t.substr(0,8)+"-"+t.substr(8,4)+"-"+t.substr(12,4)+"-"+t.substr(16,4)+"-"+t.substr(20,12))},t.generateVersion4=function(){var t=this.generate16bitHexStrFromNumber,r=this.generateRandom16bitHexStr,e=this.generateRandom16bitHex;return r()+r()+"-"+r()+"-"+t(16384|4095&e())+"-"+t(32768|16383&e())+"-"+r()+r()+r()},t.generateRandom16bitHexStr=function(){return(65536*(1+Math.random())|0).toString(16).toLowerCase().substring(1)},t.generateRandom16bitHex=function(){return 65536*Math.random()|0},t.generate16bitHexStrFromNumber=function(t){return(t+65536).toString(16).toLowerCase().substring(1)},t.getBase64EncodedUUID=function(t){if(t=this.verifyUUID(t),!t)return null;t=t.replaceAll("-","")+"0000";for(var r="",e=function(t){return t>=0&&26>t?String.fromCharCode(65+t):t>=26&&52>t?String.fromCharCode(97+(t-26)):t>=52&&62>t?String.fromCharCode(48+(t-52)):t>=62&&64>t?62==t?"+":"/":void 0},n=0;6>n;n++){var i=parseInt(t.substr(6*n,6),16);r+=e(63&i>>18),r+=e(63&i>>12),r+=e(63&i>>6),r+=e(63&i)}return r=r.substr(0,22)+"=="},t.nullUUID="00000000-0000-0000-0000-000000000000",t}();